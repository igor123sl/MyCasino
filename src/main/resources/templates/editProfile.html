<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../static/bootstrap.min.css">
    <link rel="icon" type="image/x-icon" href="../static/favicon.png">
    <title>MyCasino</title>
</head>
<body><!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Profile</title>
    <link rel="stylesheet" href="../static/bootstrap.min.css">
    <link rel="icon" type="image/x-icon" href="../static/favicon.png">
</head>
<body class="bg-dark text-white vh-100">
<nav th:replace="~{fragments/nav :: nav (player=${player})}"></nav>
<div class="container text-center mt-3">
    <div class="row">
        <div class="col-lg-4 fs-4">
            <div class="card text-center" style="background-color: #151515;">
                <img src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" class="card-img-top m-auto my-3"
                     alt="..." style="width: 256px;">
                <div class="card-body">
                    <h2 class="card-title" th:text="${player.getName()}">Name</h2>
                </div>
            </div>
        </div>
        <div class="col-lg-8 fs-4">
            <div style="background-color: #151515;" class="card">
                <div class="card-header">Edit Profile:</div>
                <form class="text-start px-5" th:object="${editPlayer}" th:method="POST" th:action="@{/editProfile}">
                    <div class="row mb-3">
                        <label for="name" class="col-sm-2 col-form-label">Name: </label>
                        <div class="col-sm-10">
                            <input type="text" th:value="${player.getName()}" name="name" class="form-control mt-1"
                                   id="name">
                            <div class="alert alert-danger p-2 fs-6 mt-2" th:if="${#fields.hasErrors('name')}"
                                 th:errors="*{name}"></div>
                            <div class="alert alert-danger p-2 fs-6 mt-2" th:if="${nameError}"
                                 th:text="${nameError}"></div>
                        </div>
                    </div>
                    <div class="row mb-3">
                        <label for="email" class="col-sm-2 col-form-label">Email: </label>
                        <div class="col-sm-10">
                            <input type="text" th:value="${player.getEmail()}" name="email" class="form-control mt-1"
                                   id="email">
                            <div class="alert alert-danger p-2 fs-6 mt-2" th:if="${#fields.hasErrors('email')}"
                                 th:errors="*{email}"></div>
                            <div class="alert alert-danger p-2 fs-6 mt-2" th:if="${emailError}"
                                 th:text="${emailError}"></div>
                        </div>
                    </div>
                    <button class="btn btn-primary w-25 d-block m-auto my-3" type="submit">Submit</button>
                </form>
                <div class="card-header">Change Password:</div>
                <form class="text-start px-5" th:method="POST" th:action="@{/changePassword}">
                    <div class="row mb-3">
                        <label for="oldPassword" class="col-sm-2 col-form-label w-25">Old password: </label>
                        <div class="col-sm-10 w-75">
                            <input type="password" name="oldPassword"
                                   class="form-control mt-1" id="oldPassword">
                            <div class="alert alert-danger p-2 fs-6 mt-2" th:if="${passwordError}"
                                 th:text="${passwordError}"></div>
                        </div>
                    </div>
                    <div class="row mb-3">
                        <label for="newPassword" class="col-sm-2 col-form-label w-25">New password: </label>
                        <div class="col-sm-10 w-75">
                            <input type="password" name="newPassword"
                                   class="form-control mt-1" id="newPassword">
                        </div>
                    </div>
                    <button class="btn btn-primary w-25 d-block m-auto my-3" type="submit">Submit</button>
                </form>
            </div>
            <div style="background-color: #151515;" class="d-flex p-3 my-4 rounded">
                <div>
                    <a class="btn btn-primary" th:href="@{/editProfile}">Edit Profile</a>
                </div>
                <form th:action="@{/logout}" th:method="POST">
                    <button class="btn btn-primary mx-3" type="submit">Logout</button>
                </form>
                <form th:action="@{/add100}" th:method="POST">
                    <button class="btn btn-primary" type="submit">Add 100$</button>
                </form>
            </div>
        </div>
    </div>
</div>
</body>
</html>
</body>
</html>